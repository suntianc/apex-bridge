{
  "setup_completed": true,
  "server": {
    "port": 8088,
    "host": "0.0.0.0",
    "nodeEnv": "development",
    "debugMode": false,
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "auth": {
    "apiKey": "",
    "apiKeys": [
      {
        "id": "test-key-1",
        "key": "test-api-key-1",
        "name": "Test Key 1",
        "createdAt": 1763291809943
      }
    ],
    "admin": {
      "username": "suntc",
      "password": "mxyMxy5201314/",
      "security": {
        "rateLimit": {
          "enabled": true,
          "provider": "auto",
          "trustProxy": true,
          "keyPrefix": "rate_limit",
          "headers": {
            "limit": "X-RateLimit-Limit",
            "remaining": "X-RateLimit-Remaining",
            "reset": "X-RateLimit-Reset",
            "retryAfter": "Retry-After"
          },
          "defaultStrategyOrder": [
            "apiKey",
            "ip"
          ],
          "whitelist": {
            "ips": [],
            "apiKeys": [],
            "users": []
          },
          "rules": [
            {
              "id": "chat-api",
              "name": "Chat Completions API",
              "description": "限制聊天相关端点，优先按照 API Key 识别",
              "windowMs": 60000,
              "maxRequests": 60,
              "mode": "sliding",
              "burstMultiplier": 1.5,
              "priority": 10,
              "matchers": [
                {
                  "prefix": "/v1/chat",
                  "methods": [
                    "POST"
                  ]
                },
                {
                  "prefix": "/v1/chatvcp",
                  "methods": [
                    "POST"
                  ]
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            },
            {
              "id": "models-api",
              "name": "Models Listing API",
              "description": "限制模型列表端点，按 IP 区分",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 20,
              "matchers": [
                {
                  "path": "/v1/models",
                  "methods": [
                    "GET"
                  ]
                }
              ],
              "strategyOrder": [
                "ip"
              ],
              "skipSuccessfulRequests": true,
              "responseHeaders": true
            },
            {
              "id": "admin-api",
              "name": "Admin Panel API",
              "description": "保护管理后台接口，按用户ID或IP限流",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 5,
              "matchers": [
                {
                  "prefix": "/api/admin"
                }
              ],
              "strategyOrder": [
                "user",
                "ip"
              ],
              "skipFailedRequests": true,
              "responseHeaders": true
            },
            {
              "id": "plugin-callback",
              "name": "Plugin Callback Endpoint",
              "description": "限制插件回调接口，按 API Key/IP 控制",
              "windowMs": 60000,
              "maxRequests": 90,
              "mode": "sliding",
              "priority": 15,
              "matchers": [
                {
                  "prefix": "/plugin-callback"
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            }
          ]
        }
      },
      "redis": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 6379,
        "tls": false,
        "keyPrefix": "apexbridge",
        "connectTimeoutMs": 5000,
        "commandTimeoutMs": 3000,
        "maxRetriesPerRequest": 2
      }
    },
    "jwt": {
      "secret": "e55Ryz6dEO+dWk+14hUWFQVUDyzfl2BImuZa/FpiUNM=",
      "expiresIn": 604800,
      "algorithm": "HS256"
    },
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    },
    "vcpKey": "test-vcp-key"
  },
  "protocol": {
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "plugins": {
    "directory": "./plugins",
    "autoLoad": true,
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "llm": {
    "defaultProvider": "openai",
    "quota": {
      "maxRequestsPerMinute": 30,
      "maxTokensPerDay": 200000,
      "maxConcurrentStreams": 3,
      "burstMultiplier": 2,
      "security": {
        "rateLimit": {
          "enabled": true,
          "provider": "auto",
          "trustProxy": true,
          "keyPrefix": "rate_limit",
          "headers": {
            "limit": "X-RateLimit-Limit",
            "remaining": "X-RateLimit-Remaining",
            "reset": "X-RateLimit-Reset",
            "retryAfter": "Retry-After"
          },
          "defaultStrategyOrder": [
            "apiKey",
            "ip"
          ],
          "whitelist": {
            "ips": [],
            "apiKeys": [],
            "users": []
          },
          "rules": [
            {
              "id": "chat-api",
              "name": "Chat Completions API",
              "description": "限制聊天相关端点，优先按照 API Key 识别",
              "windowMs": 60000,
              "maxRequests": 60,
              "mode": "sliding",
              "burstMultiplier": 1.5,
              "priority": 10,
              "matchers": [
                {
                  "prefix": "/v1/chat",
                  "methods": [
                    "POST"
                  ]
                },
                {
                  "prefix": "/v1/chatvcp",
                  "methods": [
                    "POST"
                  ]
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            },
            {
              "id": "models-api",
              "name": "Models Listing API",
              "description": "限制模型列表端点，按 IP 区分",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 20,
              "matchers": [
                {
                  "path": "/v1/models",
                  "methods": [
                    "GET"
                  ]
                }
              ],
              "strategyOrder": [
                "ip"
              ],
              "skipSuccessfulRequests": true,
              "responseHeaders": true
            },
            {
              "id": "admin-api",
              "name": "Admin Panel API",
              "description": "保护管理后台接口，按用户ID或IP限流",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 5,
              "matchers": [
                {
                  "prefix": "/api/admin"
                }
              ],
              "strategyOrder": [
                "user",
                "ip"
              ],
              "skipFailedRequests": true,
              "responseHeaders": true
            },
            {
              "id": "plugin-callback",
              "name": "Plugin Callback Endpoint",
              "description": "限制插件回调接口，按 API Key/IP 控制",
              "windowMs": 60000,
              "maxRequests": 90,
              "mode": "sliding",
              "priority": 15,
              "matchers": [
                {
                  "prefix": "/plugin-callback"
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            }
          ]
        }
      },
      "redis": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 6379,
        "tls": false,
        "keyPrefix": "apexbridge",
        "connectTimeoutMs": 5000,
        "commandTimeoutMs": 3000,
        "maxRetriesPerRequest": 2
      }
    },
    "deepseek": {
      "apiKey": "sk-edcfe0c2c69e4c9f82ff60f16626022a",
      "baseURL": "https://api.deepseek.com/v1",
      "defaultModel": "deepseek-chat",
      "timeout": 60000,
      "maxRetries": 3
    },
    "zhipu": {
      "apiKey": "a09450f4fe944a5688aa4ce4d517fcab.DcJLYgAgXOe9FDhM",
      "baseURL": "https://open.bigmodel.cn/api/coding/paas/v4",
      "defaultModel": "GLM-4.6",
      "timeout": 60000,
      "maxRetries": 3,
      "mode": "coding"
    },
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "rag": {
    "enabled": true,
    "storagePath": "/home/suntc/project/ApexBridge/apex-bridge",
    "vectorizer": {
      "baseURL": "https://api.siliconflow.cn/v1",
      "apiKey": "sk-gyhahquvzizscnxjidcrgbnrhagynisltnwrvssxwkdnlnit",
      "model": "Qwen/Qwen3-Embedding-4B",
      "dimensions": 2560,
      "provider": ""
    },
    "defaultMode": "basic",
    "defaultK": 5,
    "maxK": 20,
    "maxMultiplier": 5,
    "semanticWeight": 0.7,
    "timeWeight": 0.3,
    "similarityThreshold": 0.6,
    "semanticGroup": {
      "configPath": "./config/semantic_groups.json",
      "weight": 0.5,
      "security": {
        "rateLimit": {
          "enabled": true,
          "provider": "auto",
          "trustProxy": true,
          "keyPrefix": "rate_limit",
          "headers": {
            "limit": "X-RateLimit-Limit",
            "remaining": "X-RateLimit-Remaining",
            "reset": "X-RateLimit-Reset",
            "retryAfter": "Retry-After"
          },
          "defaultStrategyOrder": [
            "apiKey",
            "ip"
          ],
          "whitelist": {
            "ips": [],
            "apiKeys": [],
            "users": []
          },
          "rules": [
            {
              "id": "chat-api",
              "name": "Chat Completions API",
              "description": "限制聊天相关端点，优先按照 API Key 识别",
              "windowMs": 60000,
              "maxRequests": 60,
              "mode": "sliding",
              "burstMultiplier": 1.5,
              "priority": 10,
              "matchers": [
                {
                  "prefix": "/v1/chat",
                  "methods": [
                    "POST"
                  ]
                },
                {
                  "prefix": "/v1/chatvcp",
                  "methods": [
                    "POST"
                  ]
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            },
            {
              "id": "models-api",
              "name": "Models Listing API",
              "description": "限制模型列表端点，按 IP 区分",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 20,
              "matchers": [
                {
                  "path": "/v1/models",
                  "methods": [
                    "GET"
                  ]
                }
              ],
              "strategyOrder": [
                "ip"
              ],
              "skipSuccessfulRequests": true,
              "responseHeaders": true
            },
            {
              "id": "admin-api",
              "name": "Admin Panel API",
              "description": "保护管理后台接口，按用户ID或IP限流",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 5,
              "matchers": [
                {
                  "prefix": "/api/admin"
                }
              ],
              "strategyOrder": [
                "user",
                "ip"
              ],
              "skipFailedRequests": true,
              "responseHeaders": true
            },
            {
              "id": "plugin-callback",
              "name": "Plugin Callback Endpoint",
              "description": "限制插件回调接口，按 API Key/IP 控制",
              "windowMs": 60000,
              "maxRequests": 90,
              "mode": "sliding",
              "priority": 15,
              "matchers": [
                {
                  "prefix": "/plugin-callback"
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            }
          ]
        }
      },
      "redis": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 6379,
        "tls": false,
        "keyPrefix": "apexbridge",
        "connectTimeoutMs": 5000,
        "commandTimeoutMs": 3000,
        "maxRetriesPerRequest": 2
      }
    },
    "rerank": {
      "enabled": false,
      "baseURL": "",
      "apiKey": "",
      "model": "rerank-english-v2.0",
      "multiplier": 2,
      "timeout": 5000,
      "security": {
        "rateLimit": {
          "enabled": true,
          "provider": "auto",
          "trustProxy": true,
          "keyPrefix": "rate_limit",
          "headers": {
            "limit": "X-RateLimit-Limit",
            "remaining": "X-RateLimit-Remaining",
            "reset": "X-RateLimit-Reset",
            "retryAfter": "Retry-After"
          },
          "defaultStrategyOrder": [
            "apiKey",
            "ip"
          ],
          "whitelist": {
            "ips": [],
            "apiKeys": [],
            "users": []
          },
          "rules": [
            {
              "id": "chat-api",
              "name": "Chat Completions API",
              "description": "限制聊天相关端点，优先按照 API Key 识别",
              "windowMs": 60000,
              "maxRequests": 60,
              "mode": "sliding",
              "burstMultiplier": 1.5,
              "priority": 10,
              "matchers": [
                {
                  "prefix": "/v1/chat",
                  "methods": [
                    "POST"
                  ]
                },
                {
                  "prefix": "/v1/chatvcp",
                  "methods": [
                    "POST"
                  ]
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            },
            {
              "id": "models-api",
              "name": "Models Listing API",
              "description": "限制模型列表端点，按 IP 区分",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 20,
              "matchers": [
                {
                  "path": "/v1/models",
                  "methods": [
                    "GET"
                  ]
                }
              ],
              "strategyOrder": [
                "ip"
              ],
              "skipSuccessfulRequests": true,
              "responseHeaders": true
            },
            {
              "id": "admin-api",
              "name": "Admin Panel API",
              "description": "保护管理后台接口，按用户ID或IP限流",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 5,
              "matchers": [
                {
                  "prefix": "/api/admin"
                }
              ],
              "strategyOrder": [
                "user",
                "ip"
              ],
              "skipFailedRequests": true,
              "responseHeaders": true
            },
            {
              "id": "plugin-callback",
              "name": "Plugin Callback Endpoint",
              "description": "限制插件回调接口，按 API Key/IP 控制",
              "windowMs": 60000,
              "maxRequests": 90,
              "mode": "sliding",
              "priority": 15,
              "matchers": [
                {
                  "prefix": "/plugin-callback"
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            }
          ]
        }
      },
      "redis": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 6379,
        "tls": false,
        "keyPrefix": "apexbridge",
        "connectTimeoutMs": 5000,
        "commandTimeoutMs": 3000,
        "maxRetriesPerRequest": 2
      }
    },
    "tagsConfig": "./config/rag_tags.json",
    "diaryArchiveAfterDays": 0,
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "memory": {
    "system": "rag",
    "verifyMemoryService": true,
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "logging": {
    "level": "debug",
    "file": "./logs/intellicore.log",
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "performance": {
    "workerPoolSize": 4,
    "requestTimeout": 60000,
    "maxRequestSize": "50mb",
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "redis": {
    "enabled": false,
    "host": "127.0.0.1",
    "port": 6379,
    "tls": false,
    "keyPrefix": "apexbridge",
    "connectTimeoutMs": 5000,
    "commandTimeoutMs": 3000,
    "maxRetriesPerRequest": 2,
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "pluginCallback": {
    "hmacWindowSeconds": 60,
    "rateLimit": {
      "enabled": true,
      "windowMs": 60000,
      "max": 60,
      "rules": [
        {
          "id": "test-log-rule",
          "name": "Test Log Rule",
          "windowMs": 60000,
          "maxRequests": 1,
          "mode": "sliding",
          "burstMultiplier": 1,
          "priority": 1,
          "matchers": [
            {
              "path": "/test"
            }
          ],
          "strategyOrder": [
            "ip"
          ],
          "skipSuccessfulRequests": false,
          "skipFailedRequests": false,
          "responseHeaders": true
        },
        {
          "id": "chat-api",
          "name": "Chat Completions API",
          "description": "限制聊天相关端点，优先按照 API Key 识别",
          "windowMs": 60000,
          "maxRequests": 60,
          "mode": "sliding",
          "burstMultiplier": 1.5,
          "priority": 10,
          "matchers": [
            {
              "prefix": "/v1/chat",
              "methods": [
                "POST"
              ]
            },
            {
              "prefix": "/v1/chatvcp",
              "methods": [
                "POST"
              ]
            }
          ],
          "strategyOrder": [
            "apiKey",
            "ip"
          ],
          "skipSuccessfulRequests": false,
          "skipFailedRequests": false,
          "responseHeaders": true
        }
      ],
      "defaultStrategyOrder": [
        "apiKey",
        "ip"
      ],
      "whitelist": {
        "ips": [],
        "apiKeys": [
          "test-api-key-1"
        ],
        "users": []
      },
      "security": {
        "rateLimit": {
          "enabled": true,
          "provider": "auto",
          "trustProxy": true,
          "keyPrefix": "rate_limit",
          "headers": {
            "limit": "X-RateLimit-Limit",
            "remaining": "X-RateLimit-Remaining",
            "reset": "X-RateLimit-Reset",
            "retryAfter": "Retry-After"
          },
          "defaultStrategyOrder": [
            "apiKey",
            "ip"
          ],
          "whitelist": {
            "ips": [],
            "apiKeys": [],
            "users": []
          },
          "rules": [
            {
              "id": "chat-api",
              "name": "Chat Completions API",
              "description": "限制聊天相关端点，优先按照 API Key 识别",
              "windowMs": 60000,
              "maxRequests": 60,
              "mode": "sliding",
              "burstMultiplier": 1.5,
              "priority": 10,
              "matchers": [
                {
                  "prefix": "/v1/chat",
                  "methods": [
                    "POST"
                  ]
                },
                {
                  "prefix": "/v1/chatvcp",
                  "methods": [
                    "POST"
                  ]
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            },
            {
              "id": "models-api",
              "name": "Models Listing API",
              "description": "限制模型列表端点，按 IP 区分",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 20,
              "matchers": [
                {
                  "path": "/v1/models",
                  "methods": [
                    "GET"
                  ]
                }
              ],
              "strategyOrder": [
                "ip"
              ],
              "skipSuccessfulRequests": true,
              "responseHeaders": true
            },
            {
              "id": "admin-api",
              "name": "Admin Panel API",
              "description": "保护管理后台接口，按用户ID或IP限流",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 5,
              "matchers": [
                {
                  "prefix": "/api/admin"
                }
              ],
              "strategyOrder": [
                "user",
                "ip"
              ],
              "skipFailedRequests": true,
              "responseHeaders": true
            },
            {
              "id": "plugin-callback",
              "name": "Plugin Callback Endpoint",
              "description": "限制插件回调接口，按 API Key/IP 控制",
              "windowMs": 60000,
              "maxRequests": 90,
              "mode": "sliding",
              "priority": 15,
              "matchers": [
                {
                  "prefix": "/plugin-callback"
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            }
          ]
        }
      },
      "redis": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 6379,
        "tls": false,
        "keyPrefix": "apexbridge",
        "connectTimeoutMs": 5000,
        "commandTimeoutMs": 3000,
        "maxRetriesPerRequest": 2
      }
    },
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  },
  "security": {
    "rateLimit": {
      "enabled": true,
      "provider": "auto",
      "trustProxy": true,
      "keyPrefix": "rate_limit",
      "headers": {
        "limit": "X-RateLimit-Limit",
        "remaining": "X-RateLimit-Remaining",
        "reset": "X-RateLimit-Reset",
        "retryAfter": "Retry-After",
        "security": {
          "rateLimit": {
            "enabled": true,
            "provider": "auto",
            "trustProxy": true,
            "keyPrefix": "rate_limit",
            "headers": {
              "limit": "X-RateLimit-Limit",
              "remaining": "X-RateLimit-Remaining",
              "reset": "X-RateLimit-Reset",
              "retryAfter": "Retry-After"
            },
            "defaultStrategyOrder": [
              "apiKey",
              "ip"
            ],
            "whitelist": {
              "ips": [],
              "apiKeys": [],
              "users": []
            },
            "rules": [
              {
                "id": "chat-api",
                "name": "Chat Completions API",
                "description": "限制聊天相关端点，优先按照 API Key 识别",
                "windowMs": 60000,
                "maxRequests": 60,
                "mode": "sliding",
                "burstMultiplier": 1.5,
                "priority": 10,
                "matchers": [
                  {
                    "prefix": "/v1/chat",
                    "methods": [
                      "POST"
                    ]
                  },
                  {
                    "prefix": "/v1/chatvcp",
                    "methods": [
                      "POST"
                    ]
                  }
                ],
                "strategyOrder": [
                  "apiKey",
                  "ip"
                ],
                "skipSuccessfulRequests": false,
                "skipFailedRequests": false,
                "responseHeaders": true
              },
              {
                "id": "models-api",
                "name": "Models Listing API",
                "description": "限制模型列表端点，按 IP 区分",
                "windowMs": 60000,
                "maxRequests": 120,
                "mode": "fixed",
                "priority": 20,
                "matchers": [
                  {
                    "path": "/v1/models",
                    "methods": [
                      "GET"
                    ]
                  }
                ],
                "strategyOrder": [
                  "ip"
                ],
                "skipSuccessfulRequests": true,
                "responseHeaders": true
              },
              {
                "id": "admin-api",
                "name": "Admin Panel API",
                "description": "保护管理后台接口，按用户ID或IP限流",
                "windowMs": 60000,
                "maxRequests": 120,
                "mode": "fixed",
                "priority": 5,
                "matchers": [
                  {
                    "prefix": "/api/admin"
                  }
                ],
                "strategyOrder": [
                  "user",
                  "ip"
                ],
                "skipFailedRequests": true,
                "responseHeaders": true
              },
              {
                "id": "plugin-callback",
                "name": "Plugin Callback Endpoint",
                "description": "限制插件回调接口，按 API Key/IP 控制",
                "windowMs": 60000,
                "maxRequests": 90,
                "mode": "sliding",
                "priority": 15,
                "matchers": [
                  {
                    "prefix": "/plugin-callback"
                  }
                ],
                "strategyOrder": [
                  "apiKey",
                  "ip"
                ],
                "skipSuccessfulRequests": false,
                "skipFailedRequests": false,
                "responseHeaders": true
              }
            ]
          }
        },
        "redis": {
          "enabled": false,
          "host": "127.0.0.1",
          "port": 6379,
          "tls": false,
          "keyPrefix": "apexbridge",
          "connectTimeoutMs": 5000,
          "commandTimeoutMs": 3000,
          "maxRetriesPerRequest": 2
        }
      },
      "defaultStrategyOrder": [
        "apiKey",
        "ip"
      ],
      "whitelist": {
        "ips": [],
        "apiKeys": [],
        "users": [],
        "security": {
          "rateLimit": {
            "enabled": true,
            "provider": "auto",
            "trustProxy": true,
            "keyPrefix": "rate_limit",
            "headers": {
              "limit": "X-RateLimit-Limit",
              "remaining": "X-RateLimit-Remaining",
              "reset": "X-RateLimit-Reset",
              "retryAfter": "Retry-After"
            },
            "defaultStrategyOrder": [
              "apiKey",
              "ip"
            ],
            "whitelist": {
              "ips": [],
              "apiKeys": [],
              "users": []
            },
            "rules": [
              {
                "id": "chat-api",
                "name": "Chat Completions API",
                "description": "限制聊天相关端点，优先按照 API Key 识别",
                "windowMs": 60000,
                "maxRequests": 60,
                "mode": "sliding",
                "burstMultiplier": 1.5,
                "priority": 10,
                "matchers": [
                  {
                    "prefix": "/v1/chat",
                    "methods": [
                      "POST"
                    ]
                  },
                  {
                    "prefix": "/v1/chatvcp",
                    "methods": [
                      "POST"
                    ]
                  }
                ],
                "strategyOrder": [
                  "apiKey",
                  "ip"
                ],
                "skipSuccessfulRequests": false,
                "skipFailedRequests": false,
                "responseHeaders": true
              },
              {
                "id": "models-api",
                "name": "Models Listing API",
                "description": "限制模型列表端点，按 IP 区分",
                "windowMs": 60000,
                "maxRequests": 120,
                "mode": "fixed",
                "priority": 20,
                "matchers": [
                  {
                    "path": "/v1/models",
                    "methods": [
                      "GET"
                    ]
                  }
                ],
                "strategyOrder": [
                  "ip"
                ],
                "skipSuccessfulRequests": true,
                "responseHeaders": true
              },
              {
                "id": "admin-api",
                "name": "Admin Panel API",
                "description": "保护管理后台接口，按用户ID或IP限流",
                "windowMs": 60000,
                "maxRequests": 120,
                "mode": "fixed",
                "priority": 5,
                "matchers": [
                  {
                    "prefix": "/api/admin"
                  }
                ],
                "strategyOrder": [
                  "user",
                  "ip"
                ],
                "skipFailedRequests": true,
                "responseHeaders": true
              },
              {
                "id": "plugin-callback",
                "name": "Plugin Callback Endpoint",
                "description": "限制插件回调接口，按 API Key/IP 控制",
                "windowMs": 60000,
                "maxRequests": 90,
                "mode": "sliding",
                "priority": 15,
                "matchers": [
                  {
                    "prefix": "/plugin-callback"
                  }
                ],
                "strategyOrder": [
                  "apiKey",
                  "ip"
                ],
                "skipSuccessfulRequests": false,
                "skipFailedRequests": false,
                "responseHeaders": true
              }
            ]
          }
        },
        "redis": {
          "enabled": false,
          "host": "127.0.0.1",
          "port": 6379,
          "tls": false,
          "keyPrefix": "apexbridge",
          "connectTimeoutMs": 5000,
          "commandTimeoutMs": 3000,
          "maxRetriesPerRequest": 2
        }
      },
      "rules": [
        {
          "id": "test-log-rule",
          "name": "Test Log Rule",
          "windowMs": 60000,
          "maxRequests": 1,
          "mode": "sliding",
          "burstMultiplier": 1,
          "priority": 1,
          "matchers": [
            {
              "path": "/test"
            }
          ],
          "strategyOrder": [
            "ip"
          ],
          "skipSuccessfulRequests": false,
          "skipFailedRequests": false,
          "responseHeaders": true
        },
        {
          "id": "chat-api",
          "name": "Chat Completions API",
          "description": "限制聊天相关端点，优先按照 API Key 识别",
          "windowMs": 60000,
          "maxRequests": 60,
          "mode": "sliding",
          "burstMultiplier": 1.5,
          "priority": 10,
          "matchers": [
            {
              "prefix": "/v1/chat",
              "methods": [
                "POST"
              ]
            }
          ],
          "strategyOrder": [
            "apiKey",
            "ip"
          ],
          "skipSuccessfulRequests": false,
          "skipFailedRequests": false,
          "responseHeaders": true
        }
      ],
      "security": {
        "rateLimit": {
          "enabled": true,
          "provider": "auto",
          "trustProxy": true,
          "keyPrefix": "rate_limit",
          "headers": {
            "limit": "X-RateLimit-Limit",
            "remaining": "X-RateLimit-Remaining",
            "reset": "X-RateLimit-Reset",
            "retryAfter": "Retry-After"
          },
          "defaultStrategyOrder": [
            "apiKey",
            "ip"
          ],
          "whitelist": {
            "ips": [],
            "apiKeys": [],
            "users": []
          },
          "rules": [
            {
              "id": "chat-api",
              "name": "Chat Completions API",
              "description": "限制聊天相关端点，优先按照 API Key 识别",
              "windowMs": 60000,
              "maxRequests": 60,
              "mode": "sliding",
              "burstMultiplier": 1.5,
              "priority": 10,
              "matchers": [
                {
                  "prefix": "/v1/chat",
                  "methods": [
                    "POST"
                  ]
                },
                {
                  "prefix": "/v1/chatvcp",
                  "methods": [
                    "POST"
                  ]
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            },
            {
              "id": "models-api",
              "name": "Models Listing API",
              "description": "限制模型列表端点，按 IP 区分",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 20,
              "matchers": [
                {
                  "path": "/v1/models",
                  "methods": [
                    "GET"
                  ]
                }
              ],
              "strategyOrder": [
                "ip"
              ],
              "skipSuccessfulRequests": true,
              "responseHeaders": true
            },
            {
              "id": "admin-api",
              "name": "Admin Panel API",
              "description": "保护管理后台接口，按用户ID或IP限流",
              "windowMs": 60000,
              "maxRequests": 120,
              "mode": "fixed",
              "priority": 5,
              "matchers": [
                {
                  "prefix": "/api/admin"
                }
              ],
              "strategyOrder": [
                "user",
                "ip"
              ],
              "skipFailedRequests": true,
              "responseHeaders": true
            },
            {
              "id": "plugin-callback",
              "name": "Plugin Callback Endpoint",
              "description": "限制插件回调接口，按 API Key/IP 控制",
              "windowMs": 60000,
              "maxRequests": 90,
              "mode": "sliding",
              "priority": 15,
              "matchers": [
                {
                  "prefix": "/plugin-callback"
                }
              ],
              "strategyOrder": [
                "apiKey",
                "ip"
              ],
              "skipSuccessfulRequests": false,
              "skipFailedRequests": false,
              "responseHeaders": true
            }
          ]
        }
      },
      "redis": {
        "enabled": false,
        "host": "127.0.0.1",
        "port": 6379,
        "tls": false,
        "keyPrefix": "apexbridge",
        "connectTimeoutMs": 5000,
        "commandTimeoutMs": 3000,
        "maxRetriesPerRequest": 2
      }
    },
    "security": {
      "rateLimit": {
        "enabled": true,
        "provider": "auto",
        "trustProxy": true,
        "keyPrefix": "rate_limit",
        "headers": {
          "limit": "X-RateLimit-Limit",
          "remaining": "X-RateLimit-Remaining",
          "reset": "X-RateLimit-Reset",
          "retryAfter": "Retry-After"
        },
        "defaultStrategyOrder": [
          "apiKey",
          "ip"
        ],
        "whitelist": {
          "ips": [],
          "apiKeys": [],
          "users": []
        },
        "rules": [
          {
            "id": "chat-api",
            "name": "Chat Completions API",
            "description": "限制聊天相关端点，优先按照 API Key 识别",
            "windowMs": 60000,
            "maxRequests": 60,
            "mode": "sliding",
            "burstMultiplier": 1.5,
            "priority": 10,
            "matchers": [
              {
                "prefix": "/v1/chat",
                "methods": [
                  "POST"
                ]
              },
              {
                "prefix": "/v1/chatvcp",
                "methods": [
                  "POST"
                ]
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          },
          {
            "id": "models-api",
            "name": "Models Listing API",
            "description": "限制模型列表端点，按 IP 区分",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 20,
            "matchers": [
              {
                "path": "/v1/models",
                "methods": [
                  "GET"
                ]
              }
            ],
            "strategyOrder": [
              "ip"
            ],
            "skipSuccessfulRequests": true,
            "responseHeaders": true
          },
          {
            "id": "admin-api",
            "name": "Admin Panel API",
            "description": "保护管理后台接口，按用户ID或IP限流",
            "windowMs": 60000,
            "maxRequests": 120,
            "mode": "fixed",
            "priority": 5,
            "matchers": [
              {
                "prefix": "/api/admin"
              }
            ],
            "strategyOrder": [
              "user",
              "ip"
            ],
            "skipFailedRequests": true,
            "responseHeaders": true
          },
          {
            "id": "plugin-callback",
            "name": "Plugin Callback Endpoint",
            "description": "限制插件回调接口，按 API Key/IP 控制",
            "windowMs": 60000,
            "maxRequests": 90,
            "mode": "sliding",
            "priority": 15,
            "matchers": [
              {
                "prefix": "/plugin-callback"
              }
            ],
            "strategyOrder": [
              "apiKey",
              "ip"
            ],
            "skipSuccessfulRequests": false,
            "skipFailedRequests": false,
            "responseHeaders": true
          }
        ]
      }
    },
    "redis": {
      "enabled": false,
      "host": "127.0.0.1",
      "port": 6379,
      "tls": false,
      "keyPrefix": "apexbridge",
      "connectTimeoutMs": 5000,
      "commandTimeoutMs": 3000,
      "maxRetriesPerRequest": 2
    }
  }
}