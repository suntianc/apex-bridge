<!-- OPENSPEC:START -->
# OpenSpec Instructions

These instructions are for AI assistants working in this project.

Always open `@/openspec/AGENTS.md` when the request:
- Mentions planning or proposals (words like proposal, spec, change, plan)
- Introduces new capabilities, breaking changes, architecture shifts, or big performance/security work
- Sounds ambiguous and you need the authoritative spec before coding

Use `@/openspec/AGENTS.md` to learn:
- How to create and apply change proposals
- Spec format and conventions
- Project structure and guidelines

Keep this managed block so 'openspec update' can refresh the instructions.

<!-- OPENSPEC:END -->

# ApexBridge - å®¶åº­AIç³»ç»Ÿä¸­æ¢

> **é¡¹ç›®æ„¿æ™¯**: ä¸€ä¸ªç°ä»£åŒ–çš„æ¡¥æ¥åº”ç”¨é¡¹ç›®ï¼Œæ„å»ºå®¶åº­AIç³»ç»Ÿä¸­æ¢ï¼Œé›†æˆå¤šLLMæ”¯æŒã€é«˜çº§RAGæœç´¢ã€äººæ ¼å¼•æ“ã€æƒ…æ„Ÿå¼•æ“å’ŒèŠ‚ç‚¹ç®¡ç†åŠŸèƒ½ã€‚é‡‡ç”¨ABPåè®®ï¼ŒSkillsä½“ç³»ï¼ŒReactç®¡ç†åå°ã€‚

## ğŸ—ï¸ æ¶æ„æ€»è§ˆ

```mermaid
graph TD
    A["ApexBridge ä¸»ç³»ç»Ÿ"] --> B["æ ¸å¿ƒå¼•æ“"];
    B --> C["Protocolå¼•æ“<br/>ABPåè®®å¤„ç†"];
    B --> D["LLMå®¢æˆ·ç«¯<br/>å¤šæä¾›å•†é€‚é…"];
    B --> E["äººæ ¼å¼•æ“<br/>åŠ¨æ€äººæ ¼é…ç½®"];
    B --> F["æƒ…æ„Ÿå¼•æ“<br/>æƒ…æ„ŸçŠ¶æ€ç®¡ç†"];
    B --> G["èŠ‚ç‚¹ç®¡ç†å™¨<br/>åˆ†å¸ƒå¼èŠ‚ç‚¹"];

    A --> H["æœåŠ¡å±‚"];
    H --> I["èŠå¤©æœåŠ¡<br/>ä¼šè¯ç®¡ç†"];
    H --> J["RAGè®°å¿†æœåŠ¡<br/>å‘é‡æ£€ç´¢"];
    H --> K["é…ç½®æœåŠ¡<br/>åŠ¨æ€é…ç½®"];
    H --> L["èŠ‚ç‚¹æœåŠ¡<br/>èŠ‚ç‚¹ç”Ÿå‘½å‘¨æœŸ"];
    H --> M["åå¥½æœåŠ¡<br/>ä¸ªæ€§åŒ–è®¾ç½®"];
    H --> N["ä¸»åŠ¨æ€§è°ƒåº¦<br/>åœºæ™¯è§¦å‘"];

    A --> O["APIæ¥å£"];
    O --> P["èŠå¤©æ§åˆ¶å™¨<br/>OpenAIå…¼å®¹"];
    O --> Q["èŠ‚ç‚¹æ§åˆ¶å™¨<br/>èŠ‚ç‚¹ç®¡ç†"];
    O --> R["äººæ ¼æ§åˆ¶å™¨<br/>äººæ ¼é…ç½®"];
    O --> S["åå¥½æ§åˆ¶å™¨<br/>åå¥½ç®¡ç†"];
    O --> T["æ—¶é—´çº¿æ§åˆ¶å™¨<br/>è®°å¿†æ—¶é—´çº¿"];
    O --> U["å…³ç³»æ§åˆ¶å™¨<br/>å…³ç³»ç®¡ç†"];

    A --> V["Skills èƒ½åŠ›ä½“ç³»"];
    V --> W["æŒ‡ä»¤ä¸å…ƒæ•°æ®<br/>SKILL.md"];
    V --> X["æ‰§è¡Œè„šæœ¬<br/>scripts/execute.ts"];
    V --> Y["èµ„æºä¸å¼•ç”¨<br/>references/"];

    A --> Z["ç®¡ç†åå°"];
    Z --> AA["Reactå‰ç«¯<br/>Vite + TypeScript"];
    Z --> AB["è®¾ç½®å‘å¯¼<br/>åˆå§‹åŒ–é…ç½®"];
    Z --> AC["ä»ªè¡¨æ¿<br/>ç³»ç»Ÿç›‘æ§"];

    A --> AD["èŠ‚ç‚¹ä»£ç†"];
    AD --> AE["WorkerèŠ‚ç‚¹<br/>ä»»åŠ¡æ‰§è¡Œ"];
    AD --> AF["CompanionèŠ‚ç‚¹<br/>é™ªä¼´åŠ©æ‰‹"];

    click C "./src/core/ProtocolEngine.ts" "æŸ¥çœ‹Protocolå¼•æ“å®ç°"
    click D "./src/core/LLMClient.ts" "æŸ¥çœ‹LLMå®¢æˆ·ç«¯å®ç°"
    click E "./src/core/PersonalityEngine.ts" "æŸ¥çœ‹äººæ ¼å¼•æ“å®ç°"
    click Z "./admin/CLAUDE.md" "æŸ¥çœ‹ç®¡ç†åå°æ–‡æ¡£"
```

## ğŸ“¦ æ¨¡å—ç´¢å¼•

| æ¨¡å— | è·¯å¾„ | èŒè´£ | æŠ€æœ¯æ ˆ | çŠ¶æ€ |
|------|------|------|--------|------|
| **ApexBridgeä¸»ç³»ç»Ÿ** | `apex-bridge/` | å®¶åº­AIç³»ç»Ÿä¸­æ¢ï¼Œæ ¸å¿ƒå¼•æ“å’ŒAPI | TypeScript + Node.js | âœ… [è¯¦ç»†æ–‡æ¡£](./apex-bridge/CLAUDE.md) |
| **ç®¡ç†åå°** | `apex-bridge/admin/` | Webç®¡ç†ç•Œé¢ï¼Œé…ç½®å’Œç›‘æ§ | React 18 + TypeScript + Vite | âœ… [è¯¦ç»†æ–‡æ¡£](./apex-bridge/admin/CLAUDE.md) |
| **èŠ‚ç‚¹ä»£ç†** | `apex-bridge/packages/node-agent/` | åˆ†å¸ƒå¼èŠ‚ç‚¹è¿è¡Œæ—¶ | TypeScript + WebSocket | âœ… [è¯¦ç»†æ–‡æ¡£](./apex-bridge/packages/node-agent/CLAUDE.md) |

## ğŸš€ è¿è¡Œä¸å¼€å‘

### ğŸ“‹ ç¯å¢ƒè¦æ±‚
- **Node.js** â‰¥ 16.0.0
- **npm** â‰¥ 8.0.0 æˆ– **yarn** â‰¥ 1.22.0
- **Git** ï¼ˆç‰ˆæœ¬æ§åˆ¶ï¼‰

### âš¡ å¿«é€Ÿå¼€å§‹
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/apex-bridge.git
cd apex-bridge

# 2. æ›´æ–°å¾½ç« é…ç½®ï¼ˆæ›¿æ¢ä¸ºä½ çš„GitHubç”¨æˆ·åï¼‰
./scripts/update-badges.sh your-username

# 3. å®‰è£…æ‰€æœ‰æ¨¡å—ä¾èµ–
npm run install:all

# 4. é…ç½®ç¯å¢ƒå˜é‡
cp apex-bridge/env.template .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½®LLMæä¾›å•†APIå¯†é’¥

# 5. å¼€å‘æ¨¡å¼
npm run dev

# 6. ç®¡ç†åå°å¼€å‘
cd apex-bridge/admin && npm run dev  # è¿è¡Œåœ¨ http://localhost:3000/admin
```

### ğŸ“¦ ä¾èµ–ç®¡ç†
```bash
# å®‰è£…æ‰€æœ‰æ¨¡å—ä¾èµ–
npm run install:all

# æ›´æ–°æ‰€æœ‰æ¨¡å—ä¾èµ–
npm run update:all

# æ£€æŸ¥ä¾èµ–å®‰å…¨
npm run audit:all
```

## ğŸ”§ æ ¸å¿ƒæ¶æ„ç‰¹è‰²

### ğŸ§  åè®®å¼•æ“ï¼ˆABP-onlyï¼‰
- **ç‹¬ç«‹å®ç°**: ä¸å†ä¾èµ–å¤–éƒ¨SDKï¼Œå®Œå…¨è‡ªä¸»çš„ABPåè®®å¤„ç†
- **Skillsä½“ç³»**: å–ä»£ä¼ ç»Ÿæ’ä»¶ï¼Œæ”¯æŒä¸‰æ®µæ¸è¿›å¼æŠ«éœ²
- **å˜é‡è§£æ**: æ”¯æŒæ—¶é—´ã€ç¯å¢ƒã€å ä½ç¬¦ã€ä»£ç†ç­‰å¤šç§å˜é‡ç±»å‹
- **å·¥å…·æè¿°**: åŠ¨æ€ç”Ÿæˆå·¥å…·æè¿°ï¼Œæ”¯æŒåå¥½é©±åŠ¨çš„å‚æ•°é»˜è®¤å€¼

### ğŸ¯ å¤šLLMæ”¯æŒ
- **é€‚é…å™¨æ¨¡å¼**: ç»Ÿä¸€æ¥å£æ”¯æŒOpenAIã€DeepSeekã€æ™ºè°±ã€Ollamaç­‰
- **æ™ºèƒ½é‡è¯•**: è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œæ”¯æŒæŒ‡æ•°é€€é¿
- **æµå¼å“åº”**: æ”¯æŒæµå¼èŠå¤©å’Œå®æ—¶ä¸­æ–­
- **å‚æ•°è¿‡æ»¤**: æ ¹æ®å‚å•†ç‰¹æ€§è‡ªåŠ¨è¿‡æ»¤ä¸æ”¯æŒçš„å‚æ•°

### ğŸ­ äººæ ¼ä¸æƒ…æ„Ÿå¼•æ“
- **åŠ¨æ€äººæ ¼**: æ”¯æŒJSONå’ŒTXTæ ¼å¼çš„äººæ ¼é…ç½®
- **æƒ…æ„ŸçŠ¶æ€**: æƒ…æ„Ÿè¯†åˆ«ã€ååº”ç”Ÿæˆå’ŒçŠ¶æ€ç®¡ç†
- **è®°å¿†é›†æˆ**: ä¸è®°å¿†æœåŠ¡æ·±åº¦é›†æˆï¼Œæ”¯æŒæƒ…æ„Ÿè®°å½•

### ğŸ’¾ è®°å¿†ç³»ç»Ÿ
- **åŒè½¨è®°å¿†**: æ”¯æŒè¯­ä¹‰è®°å¿†ï¼ˆå‘é‡æ£€ç´¢ï¼‰å’Œæƒ…æ™¯è®°å¿†ï¼ˆæ—¶é—´åºåˆ—ï¼‰
- **RAGé›†æˆ**: é«˜æ€§èƒ½å‘é‡æ£€ç´¢ï¼Œæ”¯æŒhnswlib-node
- **è®°å¿†æ¡¥æ¥**: æƒ…æ™¯-è¯­ä¹‰æ¡¥æ¥ï¼Œè‡ªåŠ¨åŒæ­¥å’Œå…³è”

### ğŸŒ åˆ†å¸ƒå¼èŠ‚ç‚¹
- **èŠ‚ç‚¹ç±»å‹**: Hubã€Workerã€Companionä¸‰ç§èŠ‚ç‚¹ç±»å‹
- **WebSocketé€šä¿¡**: å®æ—¶åŒå‘é€šä¿¡ï¼Œæ”¯æŒèŠ‚ç‚¹çŠ¶æ€åŒæ­¥
- **ä»»åŠ¡è°ƒåº¦**: åˆ†å¸ƒå¼ä»»åŠ¡åˆ†é…å’Œæ‰§è¡Œ
- **é…é¢ç®¡ç†**: ç»†ç²’åº¦çš„LLMé…é¢æ§åˆ¶

### ğŸ” å®‰å…¨ä¸ç›‘æ§
- **å¤šå±‚è®¤è¯**: API Keyã€èŠ‚ç‚¹Keyã€ç®¡ç†åå°ç‹¬ç«‹è®¤è¯
- **é€Ÿç‡é™åˆ¶**: æ™ºèƒ½é™æµï¼Œæ”¯æŒIPå’ŒAPI KeyåŒé‡ç­–ç•¥
- **å®‰å…¨ä¸­é—´ä»¶**: è¾“å…¥æ¸…ç†ã€SQLæ³¨å…¥é˜²æŠ¤ã€è·¯å¾„éå†é˜²æŠ¤
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ“ä½œå®¡è®¡å’Œå®‰å…¨äº‹ä»¶è®°å½•

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•å±‚çº§
1. **å•å…ƒæµ‹è¯•** - æ ¸å¿ƒå¼•æ“å’ŒæœåŠ¡å±‚ï¼ˆJestï¼‰
2. **é›†æˆæµ‹è¯•** - APIæ¥å£å’ŒWebSocket
3. **ç«¯åˆ°ç«¯æµ‹è¯•** - å®Œæ•´ç”¨æˆ·åœºæ™¯

### è¿è¡Œæµ‹è¯•
```bash
# åœ¨ä¸»ç›®å½•è¿è¡Œæ‰€æœ‰æµ‹è¯•
cd apex-bridge
npm test

# è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç‰¹å®šæµ‹è¯•
npm test -- PersonalityEngine.test.ts
```

### æµ‹è¯•è¦†ç›–é‡ç‚¹
- äººæ ¼å¼•æ“é…ç½®åŠ è½½å’Œç¼“å­˜æœºåˆ¶
- ABPåè®®å˜é‡è§£æä¸Skillsæ‰§è¡Œ
- å¤šLLMæä¾›å•†é€‚é…å’Œåˆ‡æ¢
- WebSocketè¿æ¥å’Œæ¶ˆæ¯å¤„ç†
- Skillsä½“ç³»çš„å®‰å…¨æ€§ä¸éš”ç¦»

## ğŸ“‹ ç¼–ç è§„èŒƒ

### TypeScriptè§„èŒƒ
- ä¸¥æ ¼æ¨¡å¼å¯ç”¨ (`strict: true`)
- æ˜ç¡®çš„ç±»å‹å®šä¹‰å’Œæ¥å£è®¾è®¡
- å‡½æ•°å¼ç¼–ç¨‹ä¼˜å…ˆï¼Œç±»ç”¨äºæ˜ç¡®æŠ½è±¡
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•æ ‡å‡†åŒ–

### é¡¹ç›®ç»“æ„è§„èŒƒ
```
apex-bridge/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒå¼•æ“ï¼ˆProtocolã€LLMã€äººæ ¼ã€æƒ…æ„Ÿç­‰ï¼‰
â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ api/            # APIæ¥å£å’Œæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ types/          # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ config/         # é…ç½®ç®¡ç†
â”œâ”€â”€ admin/              # ç®¡ç†åå°ï¼ˆç‹¬ç«‹Reactåº”ç”¨ï¼‰
â”œâ”€â”€ skills/             # Skills èƒ½åŠ›ï¼ˆå–ä»£æ’ä»¶ï¼‰
â”œâ”€â”€ packages/node-agent/# èŠ‚ç‚¹ä»£ç†åŒ…
â”œâ”€â”€ tests/              # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â””â”€â”€ docs/               # æ–‡æ¡£
```

### å‘½åçº¦å®š
- **ç±»å**: PascalCase (å¦‚: `ProtocolEngine`, `PersonalityEngine`)
- **å‡½æ•°å’Œå˜é‡**: camelCase (å¦‚: `loadPersonality`, `systemPrompt`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (å¦‚: `DEFAULT_TIMEOUT`, `MAX_RETRIES`)
- **æ–‡ä»¶å’Œç›®å½•**: kebab-case (å¦‚: `personality-engine.ts`, `chat-controller.ts`)

## ğŸ¤– AI ä½¿ç”¨æŒ‡å¼•

### æ ¸å¿ƒå¼•æ“ç†è§£è·¯å¾„
1. **Protocolå¼•æ“** (`src/core/ProtocolEngine.ts`)
   - ç‹¬ç«‹å®ç°ï¼Œä¸å†ä¾èµ–ä»»ä½•å¤–éƒ¨SDK
   - å¤„ç†ABPåè®®è§£æå’Œå·¥å…·è°ƒç”¨ï¼ˆç»Skillsæ˜ å°„æ‰§è¡Œï¼‰
   - å¤„ç†å˜é‡è§£æä¸ä¸‰æ®µæ¸è¿›å¼å·¥å…·æè¿°
   - é›†æˆRAGæœç´¢å’Œæ—¶é—´æ„ŸçŸ¥åŠŸèƒ½

2. **LLMå®¢æˆ·ç«¯** (`src/core/LLMClient.ts`)
   - å¤šæä¾›å•†é€‚é…å™¨æ¨¡å¼
   - æ”¯æŒOpenAIã€DeepSeekã€æ™ºè°±ã€Ollama
   - æµå¼èŠå¤©å’Œé‡è¯•æœºåˆ¶

3. **äººæ ¼å¼•æ“** (`src/core/PersonalityEngine.ts`)
   - åŠ¨æ€åŠ è½½äººæ ¼é…ç½®
   - æ„å»ºç³»ç»Ÿæç¤ºè¯
   - æ”¯æŒJSONå’ŒTXTæ ¼å¼

4. **æƒ…æ„Ÿå¼•æ“** (`src/core/EmotionEngine.ts`)
   - å¤„ç†æƒ…æ„ŸçŠ¶æ€ç®¡ç†
   - æƒ…æ„Ÿååº”ç”Ÿæˆ
   - ä¸äººæ ¼ç³»ç»Ÿé›†æˆ

### Skills å¼€å‘æŒ‡å—
1. **ç›®å½•ç»“æ„**
   - `SKILL.md`ï¼šå‰è¨€åŒºå«ABPé…ç½®ï¼ˆtools/kind/parametersï¼‰ï¼Œæ­£æ–‡æä¾›æ‰§è¡ŒæŒ‡ä»¤ä¸æ³¨æ„äº‹é¡¹
   - `scripts/execute.ts`ï¼šæŠ€èƒ½æ‰§è¡Œå…¥å£ï¼ˆé»˜è®¤å¯¼å‡ºï¼‰
   - `references/`ã€`assets/`ï¼šå‚è€ƒèµ„æ–™ä¸èµ„æº

2. **ä¸‰æ®µæ¸è¿›å¼æŠ«éœ²**
   - Metadataï¼ˆåç§°/æè¿°/å·¥å…·ç­¾åï¼‰â†’ Briefï¼ˆå‚æ•°/çº¦æŸï¼‰â†’ Fullï¼ˆå®Œæ•´æŒ‡ä»¤ä¸èµ„æºï¼‰
   - è¦†ç›–é€»è¾‘ï¼šè‹¥å­˜åœ¨åå¥½`toolsDisclosure=metadata|brief|full`ï¼Œåˆ™å›ºå®šè¯¥é˜¶æ®µï¼›å¦åˆ™åŸºäºç½®ä¿¡åº¦å›é€€

3. **åå¥½é©±åŠ¨çš„å‚æ•°é»˜è®¤å€¼**
   - å½“å·¥å…·å‚æ•°ç¼ºçœæ—¶ï¼ŒæŒ‰"æ˜¾å¼å‚æ•° > schemaé»˜è®¤ > åå¥½"çš„é¡ºåºè¡¥å…¨
   - ç›¸å…³å®ç°ï¼š`SkillsToToolMapper.convertToolCallToExecutionRequestWithDefaults`ã€`ChatService.setPreferenceService`

4. **è¿ç§»è„šæœ¬**
   - ä½¿ç”¨`scripts/migrate-skills-to-claude-package.ts`å°†æ—§æŠ€èƒ½è§„èŒƒåŒ–

### APIæ‰©å±•æ¨¡å¼
```typescript
// 1. åˆ›å»ºæ§åˆ¶å™¨
// src/api/controllers/NewController.ts
export class NewController {
  // å®ç°å¤„ç†é€»è¾‘
}

// 2. æ³¨å†Œè·¯ç”±
// src/server.ts
app.use('/api/new', newController.getRouter());

// 3. æ·»åŠ æµ‹è¯•
// tests/api/NewController.test.ts
```

## ğŸ“Š å˜æ›´è®°å½• (Changelog)

### 2025-11-16 - é¡¹ç›®åˆå§‹åŒ–æ‰«æ
- âœ… å®Œæˆé¡¹ç›®ç»“æ„åˆ†æå’Œæ¨¡å—è¯†åˆ«
- âœ… åˆ†ææ ¸å¿ƒæ¶æ„ï¼šABPåè®®å¼•æ“ã€Skillsä½“ç³»ã€å¤šLLMæ”¯æŒ
- âœ… è¯†åˆ«å…³é”®ç»„ä»¶ï¼šäººæ ¼å¼•æ“ã€æƒ…æ„Ÿå¼•æ“ã€è®°å¿†ç³»ç»Ÿã€åˆ†å¸ƒå¼èŠ‚ç‚¹
- âœ… å»ºç«‹æ¨¡å—æ–‡æ¡£ä½“ç³»æ¡†æ¶
- âœ… ç”Ÿæˆæ¶æ„å›¾å’Œæ¨¡å—ç´¢å¼•

### æ‰«æè¦†ç›–ç‡
- **æ€»æ–‡ä»¶æ•°**: çº¦350+ä¸ªæ–‡ä»¶
- **å·²æ‰«æ**: 23ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **ä¸»è¦æ¨¡å—**: 3ä¸ªæ ¸å¿ƒæ¨¡å—å·²è¯†åˆ«
- **ä¸‹ä¸€æ­¥**: æ·±åº¦åˆ†æå„æ¨¡å—å®ç°ç»†èŠ‚

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### é«˜ä¼˜å…ˆçº§ä»»åŠ¡
1. **æ ¸å¿ƒå¼•æ“æ·±åº¦åˆ†æ** - è¯¦ç»†åˆ†æProtocolEngineã€LLMClientã€PersonalityEngineå®ç°
2. **Skillsä½“ç³»ç ”ç©¶** - æ·±å…¥ç†è§£Skillsæ¶æ„ã€æ‰§è¡Œæœºåˆ¶ã€æè¿°ç”Ÿæˆ
3. **è®°å¿†ç³»ç»Ÿåˆ†æ** - ç ”ç©¶RAGé›†æˆã€åŒè½¨è®°å¿†ã€è®°å¿†æ¡¥æ¥æœºåˆ¶

### ä¸­ç­‰ä¼˜å…ˆçº§ä»»åŠ¡
4. **èŠ‚ç‚¹ä»£ç†åˆ†æ** - ç ”ç©¶åˆ†å¸ƒå¼èŠ‚ç‚¹æ¶æ„å’Œé€šä¿¡æœºåˆ¶
5. **ç®¡ç†åå°åˆ†æ** - åˆ†æReactå‰ç«¯æ¶æ„å’ŒåŠŸèƒ½æ¨¡å—
6. **å®‰å…¨æœºåˆ¶å®¡è®¡** - å®¡æŸ¥è®¤è¯æˆæƒã€é™æµã€å®‰å…¨ä¸­é—´ä»¶

### å»ºè®®æ‰«æé‡ç‚¹
- `src/core/ProtocolEngine.ts` - ABPåè®®æ ¸å¿ƒå®ç°
- `src/core/LLMClient.ts` - å¤šLLMé€‚é…å™¨æ¨¡å¼
- `src/core/PersonalityEngine.ts` - äººæ ¼ç³»ç»Ÿå®ç°
- `src/core/skills/` - Skillsä½“ç³»å®ç°
- `src/services/memory/` - è®°å¿†æœåŠ¡å®ç°
- `src/api/websocket/` - WebSocketé€šä¿¡æœºåˆ¶
- `admin/src/` - ç®¡ç†åå°å‰ç«¯å®ç°
- `packages/node-agent/src/` - èŠ‚ç‚¹ä»£ç†å®ç°

**é¢„è®¡æ·±åº¦åˆ†ææ—¶é—´**: 4-5ä¸ªå·¥ä½œæ—¥
**æ¨èç»­æ‰«ç›®å½•**:
- `apex-bridge/src/core/` - æ ¸å¿ƒå¼•æ“å®ç°
- `apex-bridge/src/services/` - ä¸šåŠ¡æœåŠ¡å±‚
- `apex-bridge/src/core/skills/` - Skillsä½“ç³»
- `apex-bridge/src/services/memory/` - è®°å¿†æœåŠ¡
- `apex-bridge/admin/src/` - ç®¡ç†åå°
- `apex-bridge/packages/node-agent/src/` - èŠ‚ç‚¹ä»£ç†