# 计算器技能包

## 概述

这是一个简单而功能完整的计算器技能包，展示了如何为ApexBridge创建自定义技能。

## 项目结构

```
calculator-skill/
├── SKILL.md              # 技能定义文件（必需）
├── scripts/
│   └── execute.ts        # 执行脚本（必需）
├── tests/
│   └── unit.test.js      # 单元测试
├── docs/
│   └── README.md         # 文档
└── package.json          # 依赖管理（可选）
```

## 功能特点

1. **基本四则运算**：支持加、减、乘、除
2. **表达式解析**：支持复杂数学表达式
3. **安全计算**：防止非法代码执行
4. **错误处理**：完善的错误提示
5. **单元测试**：包含完整的测试用例

## 技术实现

- 使用Function构造器替代eval，提高安全性
- 支持小数和负数运算
- 自动格式化结果，限制小数位数
- 详细的日志记录

## 测试

运行测试：
```bash
npm test
```

## 安装到ApexBridge

1. 压缩整个目录为zip文件
2. 使用管理界面上传安装
3. 系统将自动索引并可用

## 使用示例

用户可以说：
- "计算 2 + 3 等于多少"
- "25 乘以 4 是多少"
- "帮我算一下 (10 + 5) * 2"

## 扩展建议

1. 添加更多数学函数（sin、cos、sqrt等）
2. 支持单位换算
3. 添加历史记录功能
4. 支持科学计数法